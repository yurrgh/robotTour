<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="kN?De4Q*=1./0t;$30*:">startTime</variable><variable id="V9p=2(Kj,I~wb6#uHA~d">currentTime</variable><variable id=";3Fgb{dp5SbC+h[OT$m!">i</variable><variable id="c=As+MM$(Y$ZL8?-;$?H">currentPos</variable><variable id="~y6/LU8Xj-=-YAy3-jd7">nextPos</variable><variable id="3-Z2`#7HXb4^?uYto[kF">path</variable><variable id="|F#n#2Hn-5_vA#M%[NrR">fullSquareTime</variable><variable id="8z)wjC6?;gIwyB2QQ_DV">halfSquareTime</variable><variable id="GoYnhXr?33`FrSIabAqn">turnLeftTime</variable><variable id="xiw:iB#auZCZV)52*~BL">list</variable></variables><block type="pxt-on-start" id="ym]*rci!2JjG,Juq^xng" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="Q:Ka;%64yE1~%$R~28Ck" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="type GridPosition = [number, number];" numlines="1"></mutation><next><block type="variables_set" id="!Xrsslw2}1(c2Iz_0.uV"><field name="VAR" id="3-Z2`#7HXb4^?uYto[kF">path</field><comment pinned="false" h="80" w="160">Define the path</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="z86)_m(w=u]^;uz}1QSx"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="lists_create_with" id="GNxhgl@L=Rv1upW!YI_/"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><shadow type="math_number" id="VnTKo`HKaE0_g]6Xj$+*"><field name="NUM">3</field></shadow></value><value name="ADD1"><shadow type="math_number" id="c5AK+npjnFGbjp,A=-`m"><field name="NUM">0</field></shadow></value></block></value><value name="ADD1"><block type="lists_create_with" id="qZ|:q1JU^f*KgzOwW(lc"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><shadow type="math_number" id="m:yGG_ZQ|cvS|56*+5kv"><field name="NUM">3</field></shadow></value><value name="ADD1"><shadow type="math_number" id="BD6Wo32.[H;HJ|YSQzk("><field name="NUM">1</field></shadow></value></block></value></block></value><next><block type="variables_set" id=")+3,aoNn./|($ekNR!@i"><field name="VAR" id="|F#n#2Hn-5_vA#M%[NrR">fullSquareTime</field><comment pinned="false" h="80" w="160">Tell it which grid positions to go through
[0,0] [0,1] [0,2] [0,3]
[1,0] [1,1] [1,2] [1,3]
[2,0] [2,1] [2,2] [2,3]
[3,0] [3,1] [3,2] [3,3]
start pose will always be a bottom one
depending on which way you face your robot
Starting grid will always be
Time in milliseconds for a full square</comment><value name="VALUE"><shadow type="math_number" id=":cEz5[TQPS-*Lo[~DYfA"><field name="NUM">1000</field></shadow></value><next><block type="variables_set" id="ec5SLOKSa7~?+7|Y^?5/"><field name="VAR" id="8z)wjC6?;gIwyB2QQ_DV">halfSquareTime</field><comment pinned="false" h="80" w="160">Time in milliseconds for a half square</comment><value name="VALUE"><shadow type="math_number" id="%_z2rACDtD7fxgfAy3wr"><field name="NUM">500</field></shadow></value><next><block type="variables_set" id="teVES+%/ApX4MC}WXs#V"><field name="VAR" id="GoYnhXr?33`FrSIabAqn">turnLeftTime</field><comment pinned="false" h="80" w="160">Assuming a 90-degree turn takes 1 second</comment><value name="VALUE"><shadow type="math_number" id="L0-mBVph$z`YH=-5p{+B"><field name="NUM">1000</field></shadow></value><next><block type="function_call" id="X!AN,UWoLaT_aG;xX_$f"><mutation name="navigatePath" functionid="5,brl~;rF~@Rp#=*-Anr"><arg name="path" id="0raop64x8tkvwggmifd5" type="Array"></arg><arg name="fullSquareTime" id="0bzikd06fi699z1ues8fls" type="number"></arg><arg name="halfSquareTime" id="nqvh242txu5emn0f35r1" type="number"></arg><arg name="turnLeftTime" id="qmixlr94sv99klmq253" type="number"></arg></mutation><comment pinned="false" h="80" w="160">Call the function</comment><value name="0raop64x8tkvwggmifd5"><shadow type="variables_get"><field name="VAR" id="xiw:iB#auZCZV)52*~BL">list</field></shadow><block type="variables_get" id="8[yY0SO@o/.*~+h}+$**"><field name="VAR" id="3-Z2`#7HXb4^?uYto[kF">path</field></block></value><value name="0bzikd06fi699z1ues8fls"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="variables_get" id="|]#0H=]lAblSQ2*|*%5C"><field name="VAR" id="|F#n#2Hn-5_vA#M%[NrR">fullSquareTime</field></block></value><value name="nqvh242txu5emn0f35r1"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="variables_get" id="8R}#7]ws`?ZCl_^(6Oe("><field name="VAR" id="8z)wjC6?;gIwyB2QQ_DV">halfSquareTime</field></block></value><value name="qmixlr94sv99klmq253"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="variables_get" id="d+=dWA-:xu_s!F{M4sX,"><field name="VAR" id="GoYnhXr?33`FrSIabAqn">turnLeftTime</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="Mjj#{5wOR*`JdgpQxHj5" x="726" y="343"><mutation name="driveForward" functionid="_FYilucc]nsuo$,icm6L"><arg name="duration" id="l3i1tvyvgrqsxaiyzx1s" type="number"></arg></mutation><field name="function_name">driveForward</field><comment pinned="false" h="80" w="160">Function to drive the robot forward for a specified duration</comment><value name="l3i1tvyvgrqsxaiyzx1s"><shadow type="argument_reporter_number" id="Y`R/AqIOhP.D[+etrB{~"><field name="VALUE">duration</field></shadow></value><statement name="STACK"><block type="variables_set" id="q1S8xnLbxgzr:yBs#ad9"><field name="VAR" id="kN?De4Q*=1./0t;$30*:">startTime</field><comment pinned="false" h="80" w="160">Get the start time</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="function_call_output" id="3QSbFv`RqXYWrBsH`],j"><mutation name="getCurrentTime" functionid="}.exchsDh8]dPP1k@]Jq"></mutation></block></value><next><block type="variables_set" id="p+1HUz7?1=.HBLwC0CU!"><field name="VAR" id="V9p=2(Kj,I~wb6#uHA~d">currentTime</field><comment pinned="false" h="80" w="160">Initialize current time with start time</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="N`2v@SF-Vhq2,`Mz8[a}"><field name="VAR" id="kN?De4Q*=1./0t;$30*:">startTime</field></block></value><next><block type="device_while" id="mwUNm/JM{~*`wMoR+Nn="><value name="COND"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="6urJ5RhOCxbHjCjcaB!."><field name="OP">LTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="LXwe_H{.3xd#Sh1aK,Q2"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="X4gRnUsJ@fD@F:$npNBS"><field name="VAR" id="V9p=2(Kj,I~wb6#uHA~d">currentTime</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="J9E.}IVSIL52zCSbM})S"><field name="VAR" id="kN?De4Q*=1./0t;$30*:">startTime</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="B0}4Q76nhnU@qjBw)K~{"><field name="VALUE">duration</field></block></value></block></value><statement name="DO"><block type="motion_drive_straight" id="(v8``%m2puB5cMEzD|X`"><comment pinned="false" h="80" w="160">Adjust power as needed</comment><value name="speed"><shadow type="math_number_minmax" id="a0;$8_0h,.RJb5tmQmBC"><mutation min="-100" max="100" label="Number" precision="0"></mutation><field name="SLIDER">100</field></shadow></value><next><block type="typescript_statement" id="ID$9AGV[X?m?KV(YoHkj" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="pause(100);" numlines="1"></mutation><comment pinned="false" h="80" w="160">Add a small delay</comment><next><block type="variables_set" id="s=](:x)ac,`)JNWI;/))"><field name="VAR" id="V9p=2(Kj,I~wb6#uHA~d">currentTime</field><comment pinned="false" h="80" w="160">Update current time</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="function_call_output" id="IhB;:|YA]3TI)xfKi@Xj"><mutation name="getCurrentTime" functionid="}.exchsDh8]dPP1k@]Jq"></mutation></block></value></block></next></block></next></block></statement><next><block type="motion_stop" id="r4EP$DGm*c(+MJgPW5s,"><comment pinned="false" h="80" w="160">Stop the robot after driving forward</comment></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="}y7WhZ2B7@}Hk+J?c,OZ" x="12" y="392"><mutation name="getCurrentTime" functionid="}.exchsDh8]dPP1k@]Jq"></mutation><field name="function_name">getCurrentTime</field><comment pinned="false" h="80" w="160">Define a function to get the current time</comment><statement name="STACK"><block type="function_return" id="!QD34i@JBD=d(W!uB^ae"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><comment pinned="false" h="80" w="160">Assuming input.runningTime() returns the time since power on in milliseconds</comment><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_running_time" id=".g7u3[lar}1!OmO5gEth"></block></value></block></statement></block><block type="function_definition" id="RD,B$]q(jgR8MXa-@H^%" x="1980" y="386"><mutation name="turnLeft" functionid="uWRY?eP0ZJgG*1dx_=U4"></mutation><field name="function_name">turnLeft</field><comment pinned="false" h="80" w="160">Function to turn the robot left</comment><statement name="STACK"><block type="motion_turn_left" id="H~fJ{5rMT#lY^(W^LynF"><value name="speed"><shadow type="math_number_minmax" id="H{{,Ve04kY~#ljL^7(^j"><mutation min="0" max="100" label="Number" precision="0"></mutation><field name="SLIDER">15</field></shadow></value><next><block type="typescript_statement" id="e:f**T]HyD%.hgMCdZum" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="pause(turnLeftTime);" numlines="1"></mutation><comment pinned="false" h="80" w="160">Assuming a 90-degree turn takes 1 second</comment><next><block type="motion_stop" id="0ED^vDe=qg_=)+.x:j8L"><comment pinned="false" h="80" w="160">Stop the robot after turning left</comment></block></next></block></next></block></statement></block><block type="function_definition" id="0o4ZmR%;/U9v#J_pw`$[" x="25" y="563"><mutation name="turnRight" functionid="oRWFpyB?v@SD6[C`JdS:"></mutation><field name="function_name">turnRight</field><statement name="STACK"><block type="motion_turn_right" id="Ke}K+)a-*+B6!t@vVGcS"><value name="speed"><shadow type="math_number_minmax" id="7X:nin;#V3}+.H2|6!Rn"><mutation min="0" max="100" label="Number" precision="0"></mutation><field name="SLIDER">15</field></shadow></value><next><block type="typescript_statement" id="fr.FMVxmHo5VD*;4WmMQ" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="pause(turnLeftTime);" numlines="1"></mutation><next><block type="motion_stop" id="!4#qe}KqflIU!,8`FY3."></block></next></block></next></block></statement></block><block type="function_definition" id=";Hf(p:]tx:A9|P8ZR*[W" x="21" y="811"><mutation name="navigatePath" functionid="5,brl~;rF~@Rp#=*-Anr"><arg name="path" id="0raop64x8tkvwggmifd5" type="Array"></arg><arg name="fullSquareTime" id="0bzikd06fi699z1ues8fls" type="number"></arg><arg name="halfSquareTime" id="nqvh242txu5emn0f35r1" type="number"></arg><arg name="turnLeftTime" id="qmixlr94sv99klmq253" type="number"></arg></mutation><field name="function_name">navigatePath</field><comment pinned="false" h="80" w="160">Function to navigate the robot through a series of grid positions</comment><value name="0raop64x8tkvwggmifd5"><shadow type="argument_reporter_array" id="DP:CWtwS)1XfN5x}J^d#"><field name="VALUE">path</field></shadow></value><value name="0bzikd06fi699z1ues8fls"><shadow type="argument_reporter_number" id="},OTh*j%!6+7,Mk$]5sR"><field name="VALUE">fullSquareTime</field></shadow></value><value name="nqvh242txu5emn0f35r1"><shadow type="argument_reporter_number" id="/^D)ky$}CQt=mK+nhOTB"><field name="VALUE">halfSquareTime</field></shadow></value><value name="qmixlr94sv99klmq253"><shadow type="argument_reporter_number" id="m5H{KaU,8AJCZ/RJ=Du:"><field name="VALUE">turnLeftTime</field></shadow></value><statement name="STACK"><block type="pxt_controls_for" id="+RXG||((dh7fnKfM!6)P"><value name="VAR"><shadow type="variables_get_reporter" id="7|q23(,C@UhmzdkoS/TT"><field name="VAR" id=";3Fgb{dp5SbC+h[OT$m!">i</field></shadow></value><value name="TO"><shadow type="math_whole_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="^L4UgwDgu5iXAQx0mw#{"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_length" id="Em9sOK/_RP|:`%vPv6:w"><value name="VALUE"><block type="argument_reporter_array" id="a+5yTNOH-L~p)rHPI|WR"><field name="VALUE">path</field></block></value></block></value><value name="B"><shadow type="math_number" id="|ufN[gb(?h[asTpw*Z/m"><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="variables_set" id="{[EUDD[=O1AJu/qa(x[H"><field name="VAR" id="c=As+MM$(Y$ZL8?-;$?H">currentPos</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="4u.u-7=RcGk#FLH/s=[u"><value name="LIST"><block type="argument_reporter_array" id="WZeA/]lUUiM@uUe):sp_"><field name="VALUE">path</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="q,I%aedo2MnDUDFiB7bC"><field name="VAR" id=";3Fgb{dp5SbC+h[OT$m!">i</field></block></value></block></value><next><block type="variables_set" id="Vort%KT.klwjTi;=2oZs"><field name="VAR" id="~y6/LU8Xj-=-YAy3-jd7">nextPos</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="x{]U5$/qJ#s,x~}y`R@a"><value name="LIST"><block type="argument_reporter_array" id="G~M!hUD;Df^CfQ$m=_p)"><field name="VALUE">path</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="?KFi^W-)T7#=,Ef,c8e4"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="fUpCI?yQM(xXJvm]4w|_"><field name="VAR" id=";3Fgb{dp5SbC+h[OT$m!">i</field></block></value><value name="B"><shadow type="math_number" id="WCi-7y*/|i`25sJ3r]dS"><field name="NUM">1</field></shadow></value></block></value></block></value><next><block type="controls_if" id="%(#+.s6Z$F_pqL.:6?xa"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">Drive forward to the next position</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="Wyyk:9F0,@6}x|[*U}he"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="6.qQ:C_}`l8jv@D`Nn3)"><field name="VAR" id="~y6/LU8Xj-=-YAy3-jd7">nextPos</field></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="~O%s/:9;u,ddY[1P,jU4"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="_JQNR_-DA,G8*t5d(EV1"><value name="LIST"><block type="variables_get" id="6UDe9;zn@#~]-Nl5PY;F"><field name="VAR" id="~y6/LU8Xj-=-YAy3-jd7">nextPos</field></block></value><value name="INDEX"><shadow type="math_number" id="W:09zh3e`^vbsETVPVfV"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="Ndm(wIuy#d)kzdB}n8{l"><value name="LIST"><block type="variables_get" id="wf/|Nu_FUY()Mw5Y9/+B"><field name="VAR" id="c=As+MM$(Y$ZL8?-;$?H">currentPos</field></block></value><value name="INDEX"><shadow type="math_number" id="[Q;q7PcAJWG0E?%sWu5*"><field name="NUM">0</field></shadow></value></block></value></block></value></block></value><statement name="DO0"><block type="controls_if" id="}g=GmXXsmd@AUC0|*QM}"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="s`VDV?_G8vTKHqM`n`KM"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="LA5d6eg^04]Zu;|5*SKG"><value name="LIST"><block type="variables_get" id="Y;2qrK1jCJ(GY^VgsL_Q"><field name="VAR" id="c=As+MM$(Y$ZL8?-;$?H">currentPos</field></block></value><value name="INDEX"><shadow type="math_number" id="3Ns1@Fq4}caL@0j-u[|f"><field name="NUM">1</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="B[iY6?VXtuKLZ?!MZbq5"><value name="LIST"><block type="variables_get" id="u~ThmVJ|S)KTa-C1=.6J"><field name="VAR" id="~y6/LU8Xj-=-YAy3-jd7">nextPos</field></block></value><value name="INDEX"><shadow type="math_number" id="eKlJ+Z05h,WS!79DR=$z"><field name="NUM">1</field></shadow></value></block></value></block></value><statement name="DO0"><block type="function_call" id=":Ku]x[}puxM]?J%:KpR5"><mutation name="turnLeft" functionid="uWRY?eP0ZJgG*1dx_=U4"></mutation><next><block type="function_call" id="|7Q$+DFL6j90H`ns5T,|"><mutation name="driveForward" functionid="_FYilucc]nsuo$,icm6L"><arg name="duration" id="l3i1tvyvgrqsxaiyzx1s" type="number"></arg></mutation><value name="l3i1tvyvgrqsxaiyzx1s"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="p(_#}vrf_I`k[YAQ/A#:"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="[$jEY4H-Q^HLD#d=/:_:"><field name="VALUE">halfSquareTime</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="l%!b*e%S)p~fB_ZqSDKE"><field name="VALUE">fullSquareTime</field></block></value></block></value><next><block type="function_call" id="9hH/GG~iz%1f+l~S9BN#"><mutation name="turnRight" functionid="oRWFpyB?v@SD6[C`JdS:"></mutation></block></next></block></next></block></statement><statement name="ELSE"><block type="function_call" id="7Vr6MI`8p,!Rh-=_89zb"><mutation name="turnRight" functionid="oRWFpyB?v@SD6[C`JdS:"></mutation><next><block type="function_call" id="M)OMSa*T}Y1C(6CNFd}B"><mutation name="driveForward" functionid="_FYilucc]nsuo$,icm6L"><arg name="duration" id="l3i1tvyvgrqsxaiyzx1s" type="number"></arg></mutation><value name="l3i1tvyvgrqsxaiyzx1s"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="*kR~Tk6Eo^s1a)f6-Y?6"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="G*ZPZ#V/?[^C8VIr0GaV"><field name="VALUE">halfSquareTime</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id=":bcmh2@0)C#DP`GLHgji"><field name="VALUE">fullSquareTime</field></block></value></block></value><next><block type="function_call" id="np2}h,[)w#ZGBewJstwg"><mutation name="turnLeft" functionid="uWRY?eP0ZJgG*1dx_=U4"></mutation></block></next></block></next></block></statement></block></statement><statement name="ELSE"><block type="function_call" id="focla3+F-$i*Cv*uWZ)Y"><mutation name="driveForward" functionid="_FYilucc]nsuo$,icm6L"><arg name="duration" id="l3i1tvyvgrqsxaiyzx1s" type="number"></arg></mutation><value name="l3i1tvyvgrqsxaiyzx1s"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="argument_reporter_number" id="iltG2d%X2L,46vLLEVqh"><field name="VALUE">fullSquareTime</field></block></value></block></statement></block></next></block></next></block></statement></block></statement></block></xml>